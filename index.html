<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Driver Game - Web Demo</title>
    <style>
        .hide {
            display: none;
        }
    </style>
</head>
<body>
    <div class="score">
        0
    </div>

    <div class="game">
        <div class="start_menu">
            Start Game
        </div>

        <div class="game_scene hide">
            Main Scene
        </div>
    </div>

    <script>
        const score = document.querySelector('.score');
        const startMenu = document.querySelector('.start_menu');
        const gameScene = document.querySelector('.game_scene');

        console.log(score);
        console.log(startMenu);
        console.log(gameScene);

        let player = {};
        let keys = {
            ArrowUp: false,
            ArrowDown: false,
            ArrowRight: false,
            ArrowLeft: false
        }

        // Start Menu
        startMenu.addEventListener("click", startGame);

        function startGame() {
            startMenu.classList.add("hide");
            gameScene.classList.remove("hide");

            player.start = true;
            window.requestAnimationFrame(gameplayLoop);

            let vehicle = document.createElement('div');
            vehicle.innerText = "Vehicle";

            gameScene.appendChild(vehicle);
        }

        // Key Press
        document.addEventListener("keydown", pressOn);
        document.addEventListener("keyup", pressOff);

        function pressOn(e) {
            e.preventDefault();
            keys[e.key] = true;
            console.log(keys);
        }

        function pressOff(e) {
            e.preventDefault();
            keys[e.key] = false;
            console.log(keys);
        }

        // Gameplay Loop
        function gameplayLoop() {
            console.log('Gameplay Loop');

            if (player.start) {
                window.requestAnimationFrame(gameplayLoop);
            }
        }
    </script>
</body>
</html>